<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2012 (1.2)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Dataset Organization</TITLE>
<META NAME="description" CONTENT="Dataset Organization">
<META NAME="keywords" CONTENT="QoRTs-vignette">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2012">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="QoRTs-vignette.css">

<LINK REL="next" HREF="node8.html">
<LINK REL="previous" HREF="node6.html">
<LINK REL="up" HREF="QoRTs-vignette.html">
<LINK REL="next" HREF="node8.html">
</HEAD>

<BODY > <div id=wrap>
<!--Navigation Panel-->
<A NAME="tex2html255"
  HREF="node8.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html251"
  HREF="QoRTs-vignette.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html245"
  HREF="node6.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html253"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html256"
  HREF="node8.html">Processing of aligned RNA-Seq</A>
<B> Up:</B> <A NAME="tex2html252"
  HREF="QoRTs-vignette.html">QoRTs Package User Manual</A>
<B> Previous:</B> <A NAME="tex2html246"
  HREF="node6.html">Quick Start</A>
 &nbsp; <B>  <A NAME="tex2html254"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html257"
  HREF="node7.html#SECTION00071000000000000000">Example data</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00070000000000000000"></A>  <A NAME="sec:dataset"></A>
<BR>
Dataset Organization
</H1>
<P>
<FONT COLOR="#585858">Several QoRTs functions will require "decoder" information in some form, which describes each sample and all of its technical replicates (if any). The simplest method is to provide a decoder file. All of the columns are optional except for unique.ID, however if group, lane, and/or technical replicate information is not supplied then QoRTs obviously will not be able to produce plots that organized and/or grouped by these factors.
</FONT>
<P>
<FONT COLOR="#585858"><I>Fields</I>:
  </FONT>
<UL>
<LI><I>unique.ID</I>: A unique identifier for the row. QoRTs will also accept the synonym "lanebam.ID". THIS IS THE ONLY MANDATORY FIELD.
</LI>
<LI><I>lane.ID</I>: The ID of the lane or batch. By default this will be set to "UNKNOWN".
</LI>
<LI><I>group.ID</I>: The ID of the "group". For example: "Case" or "Control". By default this will be set to "UNKNOWN".
</LI>
<LI><I>sample.ID</I>: The ID of the biological sample from which the data originated. Each sample can have multiple rows, representing technical replicates (in which the same sample is sequenced on multiple lanes or runs). By default QoRTs will assume that every row comes from a separate sample, and will thus set the sample.ID to equal the unique.ID.
</LI>
<LI><I>qc.data.dir</I>: The directory in which the java utility saved all the output data. If this column does not exist, by default it will be set to be unique.ID.
</LI>
<LI><I>input.read.pair.count</I>: (Optional) The number of reads in the original fastq file, prior to alignment. If this field is left out, then QoRTs will skip comparisons and plotting of mapping rates. There are a number of other ways to input this value. See Section <A HREF="node9.html#subsec:plotDesc-17">8.4.21</A>.
</LI>
<LI><I>multi.mapped.read.pair.count</I>: (Optional) The number of reads that were multi-mapped by the aligner. This field should only be used if filtering for multi-mapped reads is performed prior to analysis with QoRTs (which is not recommended). Even in this case, this field can simply be left out and QoRTs will skip plotting and comparisons of multi-mapping rates.  See Section <A HREF="node9.html#subsec:plotDesc-17">8.4.21</A>.
  
</LI>
</UL>
<P>
<FONT COLOR="#585858">In addition, the decoder can contain any other additional columns as desired, as long as all of the column names are distinct.
</FONT>
<P>
<FONT COLOR="#585858">While QoRTs is primarily designed to allow comparisons between biological groups, lanes, sequencing-runs, etc, it can also be used on simpler datasets, or even individual samples. Thus, only the unique.ID variable is actually required. For testing purposes, you can produce a completed decoder (with all default values filled in) using the <code>completeAndCheckDecoder</code> function.
</FONT>
<P>
<FONT COLOR="#585858">The simplest example would just be a character vector of unique.ID's:
</FONT>
<P>
<FONT COLOR="#585858">

<DIV ALIGN="LEFT">
<FONT COLOR="#585858"><TT>
 <FONT COLOR="#bc5a65"><B>completeAndCheckDecoder</B></FONT><FONT COLOR="#585858">(</FONT><FONT COLOR="#bc5a65"><B>c</B></FONT><FONT COLOR="#585858">(</FONT><FONT COLOR="#317ecc">&#34;SAMPLE1&#34;</FONT><FONT COLOR="#585858">,</FONT><FONT COLOR="#317ecc">&#34;SAMPLE2&#34;</FONT><FONT COLOR="#585858">,</FONT><FONT COLOR="#317ecc">&#34;SAMPLE3&#34;</FONT><FONT COLOR="#585858">));</FONT>
<BR></TT></FONT>
</DIV>
<PRE>
##   unique.ID sample.ID lane.ID group.ID qc.data.dir
## 1   SAMPLE1   SAMPLE1 UNKNOWN  UNKNOWN     SAMPLE1
## 2   SAMPLE2   SAMPLE2 UNKNOWN  UNKNOWN     SAMPLE2
## 3   SAMPLE3   SAMPLE3 UNKNOWN  UNKNOWN     SAMPLE3
</PRE>
<P>
<FONT COLOR="#585858">Alternatively, any of the optional fields can be included or left out, as desired:
</FONT>
<P>
<FONT COLOR="#585858">

<DIV ALIGN="LEFT">
<FONT COLOR="#585858"><TT>
 <FONT COLOR="#585858">incompleteDecoder</FONT> <FONT COLOR="#b05a65">&lt;-</FONT> <FONT COLOR="#bc5a65"><B>data.frame</B></FONT><FONT COLOR="#585858">(</FONT><FONT COLOR="#55aa55">unique.ID</FONT> <FONT COLOR="#585858">=</FONT> <FONT COLOR="#bc5a65"><B>c</B></FONT><FONT COLOR="#585858">(</FONT><FONT COLOR="#317ecc">&#34;SAMPLE1&#34;</FONT><FONT COLOR="#585858">,</FONT> <FONT COLOR="#317ecc">&#34;SAMPLE2&#34;</FONT><FONT COLOR="#585858">),</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#55aa55">group.ID</FONT> <FONT COLOR="#585858">=</FONT> <FONT COLOR="#bc5a65"><B>c</B></FONT><FONT COLOR="#585858">(</FONT><FONT COLOR="#317ecc">&#34;CASE&#34;</FONT><FONT COLOR="#585858">,</FONT><FONT COLOR="#317ecc">&#34;CONTROL&#34;</FONT><FONT COLOR="#585858">));</FONT>
<BR><FONT COLOR="#bc5a65"><B>completeAndCheckDecoder</B></FONT><FONT COLOR="#585858">(incompleteDecoder);</FONT>
<BR></TT></FONT>
</DIV>
<PRE>
##   unique.ID group.ID sample.ID lane.ID qc.data.dir
## 1   SAMPLE1     CASE   SAMPLE1 UNKNOWN     SAMPLE1
## 2   SAMPLE2  CONTROL   SAMPLE2 UNKNOWN     SAMPLE2
</PRE>
<P>
</FONT></FONT>
<H2><A NAME="SECTION00071000000000000000"></A> <A NAME="subsec:exampledata"></A>
<BR>
Example data
</H2><FONT COLOR="#585858"><FONT COLOR="#585858"></FONT></FONT>
<P>
<FONT COLOR="#585858"><FONT COLOR="#585858"><FONT COLOR="#585858">The separate R package QoRTsExampleData contains an example dataset with an example decoder:
</FONT></FONT></FONT>
<P>
<FONT COLOR="#585858"><FONT COLOR="#585858"><FONT COLOR="#585858">
</FONT></FONT>
<DIV ALIGN="LEFT">
<FONT COLOR="#585858"><FONT COLOR="#585858"></FONT></FONT><FONT COLOR="#585858"><TT>
 <FONT COLOR="#585858">directory</FONT> <FONT COLOR="#b05a65">&lt;-</FONT> <FONT COLOR="#bc5a65"><B>paste0</B></FONT><FONT COLOR="#585858">(</FONT><FONT COLOR="#bc5a65"><B>system.file</B></FONT><FONT COLOR="#585858">(</FONT><FONT COLOR="#317ecc">&#34;extdata/&#34;</FONT><FONT COLOR="#585858">,</FONT> <FONT COLOR="#55aa55">package</FONT><FONT COLOR="#585858">=</FONT><FONT COLOR="#317ecc">&#34;QoRTsExampleData&#34;</FONT><FONT COLOR="#585858">,</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#55aa55">mustWork</FONT><FONT COLOR="#585858">=</FONT><FONT COLOR="#af0f91">TRUE</FONT><FONT COLOR="#585858">),</FONT><FONT COLOR="#317ecc">&#34;/&#34;</FONT><FONT COLOR="#585858">);</FONT>
<BR><FONT COLOR="#585858">decoder.file</FONT> <FONT COLOR="#b05a65">&lt;-</FONT> <FONT COLOR="#bc5a65"><B>system.file</B></FONT><FONT COLOR="#585858">(</FONT><FONT COLOR="#317ecc">&#34;extdata/decoder.txt&#34;</FONT><FONT COLOR="#585858">,</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#55aa55">package</FONT><FONT COLOR="#585858">=</FONT><FONT COLOR="#317ecc">&#34;QoRTsExampleData&#34;</FONT><FONT COLOR="#585858">,</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#55aa55">mustWork</FONT><FONT COLOR="#585858">=</FONT><FONT COLOR="#af0f91">TRUE</FONT><FONT COLOR="#585858">);</FONT>
<BR><FONT COLOR="#585858">decoder.data</FONT> <FONT COLOR="#b05a65">&lt;-</FONT> <FONT COLOR="#bc5a65"><B>read.table</B></FONT><FONT COLOR="#585858">(decoder.file,</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#55aa55">header</FONT><FONT COLOR="#585858">=T,</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#55aa55">stringsAsFactors</FONT><FONT COLOR="#585858">=F);</FONT>
<BR><FONT COLOR="#bc5a65"><B>print</B></FONT><FONT COLOR="#585858">(decoder.data);</FONT>
<BR></TT><FONT COLOR="#585858"></FONT></FONT>
</DIV>
<FONT COLOR="#585858"><FONT COLOR="#585858"></FONT></FONT><PRE>
##    sample.ID lane.ID unique.ID  qc.data.dir group.ID input.read.pair.count
## 1      SAMP1      L1 SAMP1_RG1 ex/SAMP1_RG1     CASE                465298
## 2      SAMP1      L2 SAMP1_RG2 ex/SAMP1_RG2     CASE                472241
## 3      SAMP1      L3 SAMP1_RG3 ex/SAMP1_RG3     CASE                500691
## 4      SAMP2      L1 SAMP2_RG1 ex/SAMP2_RG1     CASE                461405
## 5      SAMP2      L2 SAMP2_RG2 ex/SAMP2_RG2     CASE                467713
## 6      SAMP2      L3 SAMP2_RG3 ex/SAMP2_RG3     CASE                492322
## 7      SAMP3      L1 SAMP3_RG1 ex/SAMP3_RG1     CASE                485397
## 8      SAMP3      L2 SAMP3_RG2 ex/SAMP3_RG2     CASE                489859
## 9      SAMP3      L3 SAMP3_RG3 ex/SAMP3_RG3     CASE                516906
## 10     SAMP4      L1 SAMP4_RG1 ex/SAMP4_RG1     CTRL                460968
## 11     SAMP4      L2 SAMP4_RG2 ex/SAMP4_RG2     CTRL                468391
## 12     SAMP4      L3 SAMP4_RG3 ex/SAMP4_RG3     CTRL                484530
## 13     SAMP5      L1 SAMP5_RG1 ex/SAMP5_RG1     CTRL                469884
## 14     SAMP5      L2 SAMP5_RG2 ex/SAMP5_RG2     CTRL                475001
## 15     SAMP5      L3 SAMP5_RG3 ex/SAMP5_RG3     CTRL                494213
## 16     SAMP6      L1 SAMP6_RG1 ex/SAMP6_RG1     CTRL                452429
## 17     SAMP6      L2 SAMP6_RG2 ex/SAMP6_RG2     CTRL                458810
## 18     SAMP6      L3 SAMP6_RG3 ex/SAMP6_RG3     CTRL                477751
</PRE><FONT COLOR="#585858"><FONT COLOR="#585858"></FONT></FONT>
<P>
<FONT COLOR="#585858"><FONT COLOR="#585858"><FONT COLOR="#585858">Due to size constraints the example dataset contained in this R package includes only the QC output data, not the raw bam-files themselves. The actual bamfiles, along with a step-by-step example walkthrough that covers the entire analysis pipeline, are linked to from the QoRTs github website (<TT><A NAME="tex2html9"
  HREF="https://github.com/hartleys/QoRTs">https://github.com/hartleys/QoRTs</A></TT>).
</FONT></FONT></FONT>
<P>
<FONT COLOR="#585858"><FONT COLOR="#585858"><FONT COLOR="#585858">The example dataset is derived from a set of rat pineal gland samples, which were multiplexed and sequenced across six sequencer lanes. For the sake of simplicity, the example dataset was limited to only six samples and three lanes. However, the bam files alone would still occupy 18 gigabytes of disk space, which would make it unsuitable for distribution as an example dataset. To further reduce the example bamfile sizes, only reads that mapped to chromosomes chr14, chr15, chrX, and chrM were included. Additionally, all the selected chromosomes EXCEPT for chromosome 14 were randomly downsampled to 30 percent of their original read counts.
</FONT></FONT></FONT>
<P>
<FONT COLOR="#585858"><FONT COLOR="#585858"><FONT COLOR="#585858">THIS DATASET IS INTENDED FOR DEMONSTRATION AND TESTING PURPOSES ONLY. Due to the various alterations that have been made to reduce file sizes and improve portability, it is not representitive of the original data and as such is really not suitable for any actual analyses.
</FONT></FONT></FONT>
<P>
<FONT COLOR="#585858"><FONT COLOR="#585858"></FONT></FONT></FONT><HR>
<!--Navigation Panel-->
<A NAME="tex2html255"
  HREF="node8.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html251"
  HREF="QoRTs-vignette.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html245"
  HREF="node6.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html253"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html256"
  HREF="node8.html">Processing of aligned RNA-Seq</A>
<B> Up:</B> <A NAME="tex2html252"
  HREF="QoRTs-vignette.html">QoRTs Package User Manual</A>
<B> Previous:</B> <A NAME="tex2html246"
  HREF="node6.html">Quick Start</A>
 &nbsp; <B>  <A NAME="tex2html254"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
Dr Stephen William Hartley
2016-06-14
</ADDRESS>
</div></BODY>
</HTML>
