<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Reading QC results data</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">
</head><body>

<table width="100%" summary="page for read.qc.results.data {QoRTs}"><tr><td>read.qc.results.data {QoRTs}</td><td align="right">R Documentation</td></tr></table>

<h2>
Reading QC results data
</h2>

<h3>Description</h3>

<p>Creates a QoRT_QC_Results object using a set of QC result 
data files.
</p>


<h3>Usage</h3>

<pre>
  read.qc.results.data(infile.dir, 
                       decoder, 
                       decoder.files, 
                       calc.DESeq2 = FALSE, 
                       calc.edgeR = FALSE, 
                       debugMode)
                       
  completeAndCheckDecoder(decoder, decoder.files)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>infile.dir</code></td>
<td>

<p>REQUIRED. The base file directory where all the QC results data
is stored.
</p>
</td></tr>
<tr valign="top"><td><code>decoder</code></td>
<td>

<p>A character vector or data.frame containing the decoder information. See details below.
</p>
</td></tr>
<tr valign="top"><td><code>decoder.files</code></td>
<td>

<p>Character vector. Either one or two character strings. Either decoder.files OR decoder must be set, never both. See details below.
</p>
</td></tr>
<tr valign="top"><td><code>calc.DESeq2</code></td>
<td>

<p>Logical. If TRUE, this function will attempt to load the DESeq2 package. If the DESeq2 package is found, it will then calculate DESeq2's geometric normalization factors (also known as &quot;size factors&quot;) for each replicate and for each sample.
</p>
</td></tr>
<tr valign="top"><td><code>calc.edgeR</code></td>
<td>

<p>Logical. If TRUE, this function will attempt to load the edgeR package. If the edgeR package is found, it will then calculate all of edgeR's  normalization factors (also known as &quot;size factors&quot;) for each replicate and for each sample.
</p>
</td></tr>
<tr valign="top"><td><code>debugMode</code></td>
<td>

<p>Logical. If TRUE, debugging data will be printed to the console.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>read.qc.results.data reads in a full QoRTs dataset of multiple QoRTs QC runs and compiles them into a QoRTs_Results object.
</p>
<p>completeAndCheckDecoder simply reads a decoder and &quot;fills in&quot; all missing parameters, returning a data.frame.
</p>
<p>The &quot;decoder&quot; is used to describe each replicate/sample. The standard decoder is a data frame that has one row per replicate, with the following columns:
</p>

<ul>
<li><p> unique.ID: The base identifier for the individual replicate. Must be unique. lanebam.ID is a synonym.
</p>
</li>
<li><p> lane.ID: (OPTIONAL) The identifier for the lane, run, or batch. The default is &quot;UNKNOWN&quot;.
</p>
</li>
<li><p> group.ID: (OPTIONAL) The identifier for the biological condition for the given replicate. The default is &quot;UNKNOWN&quot;.
</p>
</li>
<li><p> sample.ID: (OPTIONAL) The identifier for the specific biological replicate from which the replicate belongs. Note that this is distinct from &quot;lanebam.ID&quot; because in many RNA-Seq studies each &quot;sample&quot; can have multiple technical replicates, as multiple sequencing runs may be needed to acquire sufficient reads for analysis. By default, it is assumed that each replicate comes from a different sample, and sample.ID is set to equal unique.ID.
</p>
</li>
<li><p> qc.data.dir: (OPTIONAL) This column indicates the subdirectory in which the replicate's QC data was written. If this column is missing, it is assumed to be equal to the unique.ID.
</p>
</li>
<li><p> input.read.pair.count: (OPTIONAL) This column contains the number of read-pairs (or just reads, for single-end data), before alignment. This is used later to calculate mapping rate.
</p>
</li>
<li><p> multi.mapped.read.pair.count: (OPTIONAL) This column contains the number of read-pairs (or just reads, for single-end data) that were multi-mapped. This must be included for multi-mapping rate to be calculated.
</p>
</li></ul>

<p>All the parameters except for unique.ID are optional. The decoder can even be supplied as a simple character vector, which is assumed to be the unique.ID's. All the other variables will be set to their default values.
</p>
<p>Alternatively, the decoder can be supplied as a file given by the decoder.files parameter.
</p>
<p>Dual Decoder: Optionally, two decoders can be supplied. In this case the first decoder should be the technical-replicate decoder and the second should be the biological-replicate decoder.
The technical-replicate decoder should have one row per unique.ID, with the following columns:
</p>

<ul>
<li><p> unique.ID: The base identifier for the individual replicate. Must be unique!
</p>
</li>
<li><p> lane.ID: (OPTIONAL) The identifier for the lane, run, or batch.
</p>
</li>
<li><p> sample.ID: (OPTIONAL) The identifier for the specific biological replicate from which the replicate belongs. Note that this is distinct from &quot;lanebam.ID&quot; because in many RNA-Seq studies each &quot;sample&quot; can have multiple technical replicates, as multiple sequencing runs may be needed to acquire sufficient reads for analysis.
</p>
</li>
<li><p> qc.data.dir: (OPTIONAL) This column indicates the subdirectory in which the replicate's QC data was written. If this column is missing, it is assumed to be equal to the lanebam.ID. Must be unique!
</p>
</li>
<li><p> input.read.pair.count: (OPTIONAL) This column contains the number of input reads, before alignment. This is used later to calculate mapping rate.
</p>
</li>
<li><p> multi.mapped.read.pair.count: (OPTIONAL) This column contains the number of reads that were multi-mapped. This must be included for multi-mapping rate to be calculated.
</p>
</li></ul>

<p>The biological-replicate decoder should have one row per sample.ID, with the following columns:
</p>

<ul>
<li><p> sample.ID: The identifier for the specific biological replicate from which the replicate belongs. Note that this is distinct from &quot;unique.ID&quot; because in many RNA-Seq studies each &quot;sample&quot; can have multiple technical replicates, as multiple sequencing runs may be needed to acquire sufficient reads for analysis.
</p>
</li>
<li><p> group.ID (OPTIONAL): The identifier for the biological condition for the given replicate.
</p>
</li></ul>

<p>All decoders are allowed to contain other columns in addition to the ones listed here, so long as their names are distinct. Columns do not need to appear in any particular order, so long as they are named according to the specifications above.
</p>


<h3>See Also</h3>

<p><code><a href="build.plotter.html">build.plotter</a></code>
</p>

<hr><div align="center">[Package <em>QoRTs</em> version 1.0.1 <a href="00Index.html">Index</a>]</div>
</body></html>
